<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Ficha de Venta</title>
    <link rel="stylesheet" href="styles/common.css">
    <style>
        body { margin: 0; padding: 20px; font-family: 'Arial', sans-serif; }
        .sheet-box { border: 2px solid #222; border-radius: 20px; padding: 20px; min-height: calc(100vh - 40px); box-sizing: border-box; }
        .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px; }
        .client-info { font-size: 17px; line-height: 1.6; text-align: left; }
        .client-label { font-weight: bold; text-transform: capitalize; }
        .initials { font-size: 32px; font-weight: bold; border: 2px solid #222; border-radius: 10px; padding: 8px 18px; margin-left: 12px; }
        .venta-info { margin-bottom: 16px; }
        .venta-info strong { font-size: 17px; font-weight: bold; }
        .fecha-venta { text-align: right; font-size: 13px; margin-bottom: 12px; }
        .fecha-venta strong { font-weight: bold; }
        .cuotas-table { width: 100%; border-collapse: collapse; margin-top: 12px; }
        .cuotas-table th, .cuotas-table td { border: 1px solid #222; padding: 8px; text-align: center; }
        .cuotas-table th { background: #f0f0f0; font-weight: bold; }
    </style>
</head>
<body>
<div class="sheet-box">
    <div class="header">
        <div class="client-info">
            <div><span class="client-label">Cliente:</span> {{.ClientLastname}}, {{.ClientName}}</div>
            <div><span class="client-label">DNI:</span> {{.ClientDni}}</div>
            <div><span class="client-label">Email:</span> {{.ClientEmail}}</div>
            <div><span class="client-label">Tel.:</span> {{.ClientPhone}}</div>
        </div>
        <div class="initials">{{.ClientInitials}}</div>
    </div>
    <div class="fecha-venta">
        <strong>Fecha de venta:</strong> {{.SaleDate}}
    </div>
    <div class="venta-info">
        <div><strong>Descripción:</strong> {{.ProductDesc}}</div>
        <div><strong>N. Cuotas:</strong> {{.NumQuotas}}</div>
        <div><strong>Precio Cuota:</strong> ${{printf "%.2f" .QuotaPrice}}</div>
    </div>
    <table class="cuotas-table">
        <thead>
        <tr>
            <th>Cuota Nº</th>
            <th>Estado</th>
            <th>Fecha de pago</th>
            <th>Monto</th>
        </tr>
        </thead>
        <tbody>
        {{range .Quotas}}
        <tr>
            <td>{{.Number}}</td>
            <td>{{if .IsPaid}}PAGADO{{end}}</td>
            <td>{{if .IsPaid}}{{.PayDate}}{{end}}</td>
            <td>${{printf "%.2f" .Amount}}</td>
        </tr>
        {{end}}
        </tbody>
    </table>
</div>
</body>
</html> 